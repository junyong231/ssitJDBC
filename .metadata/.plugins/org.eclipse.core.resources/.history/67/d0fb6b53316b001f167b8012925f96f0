package days04.board.service;

import java.sql.SQLException;
import java.util.ArrayList;

import days04.board.domain.BoardDTO;
import days04.board.persistence.BoardDAO;


//- 트랜잭션 ( 회원가입x인데 문자가지 않게...)
public class BoardService {
	
	private BoardDAO dao = null;

	
	
	//생성자 DI
	public BoardDAO getDao() {
		return dao;
	}
	//setter
	public void setDao(BoardDAO dao) {
		this.dao = dao;
	}
	
	// 1. 
	public ArrayList<BoardDTO> selectService() {
	
	ArrayList<BoardDTO> list= null;

	

		//DB연동
		
		
		try {
			((BoardDAOImple)this.dao).getConn().setAutoCommit(false);
			list = this.dao.select();
			//2. 로그 기록 작업
			System.out.println("> 게시글 목록 : 로그 기록 작업...");
			//3. 기타.. ( 회원가입시 문자보내기 이런거)
			System.out.println("> 게시글 목록 : 문자/메일 전송 작업...");
		} catch (SQLException e) {

			e.printStackTrace();
		} finally {
			((BoardDAOImple)this.dao).getConn().setAutoCommit(true);
		}
	
		
		
		
	}
		
	
}//class
